!function a(r,d,u){function l(t,e){if(!d[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var i=d[t]={exports:{}};r[t][0].call(i.exports,function(e){return l(r[t][1][e]||e)},i,i.exports,a,r,d,u)}return d[t].exports}for(var s="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;"undefined"!=typeof window?window.peepso:void 0!==e&&e.peepso;function t(e,t){e instanceof Element&&function(e,t){var n=1<arguments.length&&void 0!==t?t:{};e.addEventListener("dragover",function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"}),e.addEventListener("drop",function(e){e.preventDefault();var t=e.dataTransfer.files;t&&t.length&&"function"==typeof n.dropped&&n.dropped(t)})}(e,t)}n.default=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,y){(function(e){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var t,n="undefined"!=typeof window?window.peepso:void 0!==e?e.peepso:null;function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o,a,r=((t="undefined"!=typeof window?window.peepsodata:void 0!==e?e.peepsodata:null)&&t.__esModule?t:{default:t}).default.hashtags||{},d=r.url,u=+r.everything||0,l=u?0:+r.min_length||0,s=u?1e4:+r.max_length||1e4,f=(a=u?"(^|>|\\s)(#([^#\\s<]+))":"(^|>|\\s)(#("+((o=u?0:+r.must_start_with_letter||0)?"[a-z]":"")+"[a-z0-9]{"+Math.max(0,l-(o?1:0))+","+Math.max(0,s-(o?1:0))+"}))",new RegExp(a,"ig")),c=["a","area","audio","base","br","button","code","col","embed","frame","hr","iframe","img","input","keygen","link","meta","param","script","select","source","style","textarea","track","video","wbr"];function p(e){var t=e.querySelectorAll("*");(t=[e].concat(i(t))).forEach(function(e){if(!(-1<c.indexOf(e.tagName.toLowerCase()))){var o=i(e.childNodes);o.forEach(function(e){var t,n;3===e.nodeType&&(t=e.textContent).trim()&&t.match(f)&&((n=document.createElement("div")).innerHTML=function(e){return e.match(f)&&(e=e.replace(f,function(e,t,n,o){return"".concat(t,'<a href="').concat(d).concat(o,'/"><span class="ps-stream-hashtag">').concat(n,"</span></a>")})),e}(t),e.replaceWith.apply(e,n.childNodes),o=o.concat(i(n.childNodes)))})}})}var v={init:function(){r.url&&n.observer.addFilter("peepso_activity",function(e){return e.map(function(){return 1===this.nodeType&&p(this),this})},10,1)}};y.default=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(s,e,t){(function(e){"use strict";var t=l("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=l("undefined"!=typeof window?window.peepso:void 0!==e?e.peepso:null),o=l(s("./droppable")),i=l(s("./post")),a=l(s("./hashtag")),r=l(s("./mention")),d=l(s("./permalink")),u=l(s("./profile-completeness"));function l(e){return e&&e.__esModule?e:{default:e}}n.default.elements={droppable:o.default},(0,t.default)(function(){i.default.init(),a.default.init(),r.default.init(),d.default.init(),u.default.init()})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./droppable":1,"./hashtag":2,"./mention":4,"./permalink":5,"./post":6,"./profile-completeness":8}],4:[function(e,t,y){(function(e){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},r="undefined"!=typeof window?window.peepso:void 0!==e?e.peepso:null;function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],o=!0,i=!1,a=void 0;try{for(var r,d=e[Symbol.iterator]();!(o=(r=d.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==d.return||d.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=/@peepso_([a-z]+)_(\d+)(?:\(([^\)]+)\))?/g,a=["a","area","audio","base","br","button","code","col","embed","frame","hr","iframe","img","input","keygen","link","meta","param","script","select","source","style","textarea","track","video","wbr"],l=0;function s(e){return e.match(i)&&(e=e.replace(i,function(e,t,n,o){var i="ps-js-mention-".concat(++l),a='<a class="'.concat(i,'">').concat(o||e,"</a>");return function(e,t){c?p.push({elements:e,params:t}):f(e,t)}(i,[t,n,o]),a})),e}function o(e){var t=e.querySelectorAll("*");(t=[e].concat(u(t))).forEach(function(e){if(!(-1<a.indexOf(e.tagName.toLowerCase()))){var o=u(e.childNodes);o.forEach(function(e){var t,n;3===e.nodeType&&(t=e.textContent).trim()&&t.match(i)&&((n=document.createElement("div")).innerHTML=s(t),e.replaceWith.apply(e,n.childNodes),o=o.concat(u(n.childNodes)))})}})}function f(e,t){var n=d(t,3),o=n[0],i=n[1],a=n[2];r.modules.mention.getHtml(o,i,a).then(function(n){(e=u(document.getElementsByClassName(e))).forEach(function(t){var e=document.createElement("div");e.innerHTML=n,u(e.childNodes).forEach(function(e){t.parentNode.insertBefore(e,t)}),t.parentNode.removeChild(t)})})}var c=!0,p=[];var v={init:function(){r.observer.addFilter("peepso_activity",function(e){return e.map(function(){return 1===this.nodeType&&o(this),this})},10,1),(0,n.default)(function(){o(document.body),setTimeout(function(){for(c=!1;p.length;){var e=p.shift();f(e.elements,e.params)}},3e3)})}};y.default=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t,o=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},n="undefined"!=typeof window?window.peepso:void 0!==e?e.peepso:null;function i(){(0,o.default)(".ps-js-permalink").each(function(){var e=(0,o.default)(this);e.removeClass("ps-js-permalink"),e.on("click",function(e){e.preventDefault(),e.stopPropagation();var t=(0,o.default)(this),n=t.closest("a[href]");n.length&&(peepso.util.copyToClipboard(n.attr("href")),t.attr("data-tooltip",t.data("tooltip-success")))}),e.on("mouseleave",function(){var e=(0,o.default)(this),t=e.data("tooltip-initial");t!==e.attr("data-tooltip")&&e.attr("data-tooltip",t)})})}var a={init:function(){(0,o.default)(function(){setTimeout(i,1e3)}),n.observer.addFilter("peepso_activity",function(e){return setTimeout(i,1e3),e},10,1)}};r.default=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,i=(o=e("./save"))&&o.__esModule?o:{default:o};var a={init:function(){i.default.init()}};n.default=a},{"./save":7}],7:[function(e,t,m){(function(e){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var t,a=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},r="undefined"!=typeof window?window.peepso:void 0!==e?e.peepso:null,n="undefined"!=typeof window?window.peepsodata:void 0!==e?e.peepsodata:null;var o=n.elements&&n.elements.post||{},i=o.text_save,d=o.text_saved,u=o.html_saved_notice,l=null;function s(e){e.style.opacity=.3,e.removeEventListener("click",p)}function f(e,t){var n=1<arguments.length&&void 0!==t?t:{};e.style.opacity="",e.addEventListener("click",p),+n.saved&&e.setAttribute("data-object-id",n.id)}function c(e,t){var n=e.className,o=e.querySelector("span");t?(e.className=n.replace("ps-icon-bookmark-empty","ps-icon-bookmark"),o.innerHTML=d):(e.className=n.replace(/ps-icon-bookmark(?!-empty)/,"ps-icon-bookmark-empty"),o.innerHTML=i)}function p(e){var i=e.currentTarget,t=-1===i.className.indexOf("ps-icon-bookmark-empty"),n=+i.getAttribute(t?"data-object-id":"data-stream-id");e.preventDefault(),e.stopPropagation(),s(i),c(i,!t),r.modules.post.save(n,!t).then(function(e){var t=!1;if(f(i,e),e.saved&&(t=r.observer.applyFilters("post_saved_notice",!0)),t){var n=(0,a.default)(i).offset(),o=(0,a.default)(i).height();l||((l=(0,a.default)("<div/>").html(u)).css({position:"absolute"}),l.appendTo(document.body)),l.stop().show(),l.css({top:Math.round(n.top-l.height()/2+o/2),left:Math.round(n.left-l.width()-10)}),l.delay(2e3).fadeOut()}else l&&l.stop().hide()})}function v(e){var t=e.querySelector(".ps-js-save-toggle");if(t){s(t);var n=+t.getAttribute("data-stream-id");n&&r.modules.post.save(n).then(function(e){f(t,e),c(t,!!e.saved)})}}var y={init:function(){r.observer.addFilter("peepso_activity",function(e){return e.map(function(){return 1===this.nodeType&&function(e){var t=e.querySelector(".ps-stream-actions");if(t){var n=t.querySelector(".ps-js-save-toggle");n&&(!n.closest||n.closest(".ps-js-activity")?v(t):n.remove())}}(this),this})},10,1),r.observer.addAction("peepso_activity_actions",function(e){e.map(function(){return 1===this.nodeType&&v(this),this})},10,1)}};m.default=y}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,a){(function(e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var t,f=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},n="undefined"!=typeof window?window.peepso:void 0!==e?e.peepso:null;function o(e,t){var n=t.profile_completeness,o=t.profile_completeness_message,i=t.missing_required,a=t.missing_required_message,r=0;if(void 0!==n){var d=(0,f.default)(".ps-completeness-status"),u=(0,f.default)(".ps-completeness-bar");100<=+n?(r++,d.hide(),u.hide()):(d.html(o).show(),u.show(),u.children("span").css({width:+n+"%"}))}if(void 0!==i){var l=(0,f.default)(".ps-missing-required-message");+i<=0?(r++,l.hide()):l.html(a).show()}var s=(0,f.default)(".ps-completeness-info");2<=r?s.hide():s.show()}var i={init:function(){n.observer.addAction("profile_field_updated",o,10,2)}};a.default=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[3]);